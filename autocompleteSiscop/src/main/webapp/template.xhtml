<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!-- The default timeline stylesheet -->
        <link rel="stylesheet" href="assets/css/timeline.css" />

        <script type="text/javascript" src="assets/js/timeline.js"/>       

        <script type="text/javascript" src="assets/js/jquery-2.1.1.min.js"/>       

        <script type="text/javascript">
            //init all
            function convertJson() {                
                //var data_str = document.getElementById('jsonText').value;
                var data_temp = #{managedEventos.json};
                //alert(data_str[0].start);
                if (data_temp === '') {
                    alert("no existe json (0_0)¡¡¡¡");
                } else {                                        
                    //var json = jQuery.parseJSON('[' + data_str + ']');
                    //var json = jQuery.parseJSON(data_str);                    
                    //No es necesesario convertir milisegundos a fechas, e l plugin ya lo hace
                    //alert('Probando fecha '+new Date(json[0].start));                    
                    //var new_json_data=[];                    
                    //convertir fechas milisegundos a Date
                    /*$.each(json, function (index, value) {
                        var objectOne = {start:"John", lastName:"Doe", age:46};
                        new_json_data.put 
                        alert(index + ": " + value);
                    });*/
                  //drawVisualization(data_temp)
                }
            }
        </script>


        <script type="text/javascript">
            var timeline;
            var data;

            // Called when the Visualization API is loaded.
            function drawVisualization() {
                data = #{managedEventos.json};
                // Create a JSON data table
                /* data = [
                 {'start': new Date(2016, 3, 15, 0, 0, 0), 'content': 'NEJO - TEST evento = Quitar Gas Lift producción = Natural Típica obs. = 111111'},
                 {'start': new Date(2016, 3, 15, 0, 0, 0), 'content': 'NEJO-TEST evento= Quitar Gas Lift producción =Natural Típica obs.=111111'},
                 {'start': new Date(2016, 3, 15, 0, 0, 0), 'content': 'NEJO-TEST evento= Disminución de estrangulador producción =Natural Típica obs.=111111'},
                 {'start': new Date(2016, 3, 14, 10, 0, 0), 'content': 'NEJO-TEST evento= CAMBIO DE PRODUCCION A GAS LIFT producción =Gas Lift obs.=cambio a gas lift'},
                 {'start': new Date(2016, 3, 14, 10, 0, 0), 'content': 'NEJO-TEST evento= Aumento de estrangulador producción =Gas Lift obs.=Cambio de estrangulador a 64 pulgadas debido a un cambio a gas lift..'},
                 {'start': new Date(2016, 3, 13, 17, 0, 0), 'content': 'NEJO-TEST evento= Aumento de estrangulador producción =Natural Típica obs.=123'},
                 {'start': new Date(2016, 3, 13, 17, 0, 0), 'content': 'NEJO-TEST evento= RMA - CAMBIO DE ARENA producción =Natural Típica obs.=123'}
                 ];*/
                /*data = [
                 {"start":new Date("2016-03-15T07:00:00"),"content":"*****"},
                 ///{'start': new Date(2016, 3, 15, 0, 0, 0),'end': new Date(2016, 4, 15, 0, 0, 0), 'content': 'Quitar Gas Lift'},
                 {'start': new Date(2016, 3, 15, 0, 0, 0), 'content': 'Quitar Gas Lift'},
                 {'start': new Date(2016, 3, 15, 0, 0, 0), 'content': 'Disminución de estrangulador'},
                 {'start': new Date(2016, 3, 14, 10, 0, 0), 'content': 'CAMBIO DE PRODUCCION A GAS LIFT'},
                 {'start': new Date(2016, 3, 14, 10, 0, 0), 'content': 'Aumento de estrangulador'},
                 {'start': new Date(2016, 3, 13, 17, 0, 0), 'content': 'Aumento de estrangulador'},
                 {'start': new Date(2016, 3, 13, 17, 0, 0), 'content': 'RMA - CAMBIO DE ARENA'}
                 
                 ];*/

                // specify options
                var options = {
                    'width': '100%',
                    'height': '300px',
                    'editable': false, // enable dragging and editing events
                    'style': 'box'
                };

                // Instantiate our timeline object.
                timeline = new links.Timeline(document.getElementById('mytimeline'), options);

                function onRangeChanged(properties) {
                    document.getElementById('info').innerHTML += 'rangechanged ' +
                            properties.start + ' - ' + properties.end + '<br/>';
                }

                // attach an event listener using the links events handler
                links.events.addListener(timeline, 'rangechanged', onRangeChanged);

                // Draw our timeline with the created data and options
                timeline.draw(data);
            }
        </script>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">Top</ui:insert>
        </div>

        <div id="content" class="center_content">
            <ui:insert name="content">Content</ui:insert>
        </div>

        <div id="bottom">
            <ui:insert name="bottom">Bottom</ui:insert>
        </div>

    </h:body>

</html>
